# æ™ºèƒ½èµ„æ–™åº“ç®¡ç†å‘˜ (Intelligent Knowledge Base Administrator)

*Intelligent Knowledge Base Administrator, without embedding based search. Maybe slower, but result is much more reliable!*

[![Version](https://img.shields.io/badge/version-1.0.0-blue.svg)](https://github.com/yourusername/intelligent-kb-admin)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

åŸºäº Claude Agent SDK å¼€å‘çš„æ™ºèƒ½çŸ¥è¯†åº“ç®¡ç†ç³»ç»Ÿï¼ˆå•ä¸€Agentæ¶æ„ï¼‰ï¼Œæä¾›ç²¾å‡†çš„èµ„æ–™æŸ¥è¯¢å’Œæ™ºèƒ½åŒ–çš„æ–‡æ¡£ç®¡ç†èƒ½åŠ›ã€‚

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ğŸ¤– æ™ºèƒ½é—®ç­”**: å¤šé˜¶æ®µæ£€ç´¢ç­–ç•¥ï¼Œç²¾å‡†å›ç­”ï¼Œå¯æº¯æºæ— æé€ 
- **âš¡ FAQæœºåˆ¶**: å¸¸è§é—®é¢˜å¿«é€Ÿå“åº”ï¼ŒæŒç»­å­¦ä¹ ä¼˜åŒ–
- **ğŸ“ æ™ºèƒ½å…¥åº“**: è‡ªåŠ¨æ ¼å¼è½¬æ¢ï¼Œè¯­ä¹‰å†²çªæ£€æµ‹ï¼Œæ™ºèƒ½æ–‡ä»¶å½’ç½®
- **ğŸ—‚ï¸ ç»“æ„ç»´æŠ¤**: è‡ªåŠ¨ç»´æŠ¤çŸ¥è¯†åº“ç»“æ„ï¼Œä¿æŒç»„ç»‡æœ‰åº
- **ğŸ’¬ Webç•Œé¢**: ç®€æ´ç›´è§‚çš„èŠå¤©å¼äº¤äº’ä½“éªŒ

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.10+ / FastAPI / Claude Agent SDK / WebSocket
- **å‰ç«¯**: React 18 / Vite / Marked (Markdownæ¸²æŸ“)
- **éƒ¨ç½²**: Docker / docker-compose
- **AI**: Claude Sonnet 4.5 (é€šè¿‡Agent SDK)

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬
- Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- Docker å’Œ docker-compose (å¯é€‰ï¼Œç”¨äºå®¹å™¨åŒ–éƒ¨ç½²)
- Claude API Key

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šæœ¬åœ°å¼€å‘ç¯å¢ƒ

#### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/yourusername/intelligent-kb-admin.git
cd intelligent-kb-admin
```

#### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ Claude API Key
```

#### 3. å¯åŠ¨åç«¯

```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
python main.py
```

åç«¯å°†åœ¨ http://localhost:8000 å¯åŠ¨

#### 4. å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ http://localhost:3000 å¯åŠ¨

#### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3000

### æ–¹å¼äºŒï¼šDockeréƒ¨ç½²

```bash
# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env

# ä½¿ç”¨éƒ¨ç½²è„šæœ¬ï¼ˆå¾…å®ç°ï¼‰
./scripts/deploy.sh

# æˆ–æ‰‹åŠ¨å¯åŠ¨
docker-compose up -d
```

## ğŸ“– é¡¹ç›®ç»“æ„

```
intelligent-kb-admin/
â”œâ”€â”€ backend/                    # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ agents/                 # Agentå®šä¹‰
â”‚   â”‚   â””â”€â”€ unified_agent.py    # ç»Ÿä¸€æ™ºèƒ½ä½“ï¼ˆæ•´åˆæ‰€æœ‰åŠŸèƒ½ï¼‰
â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ kb_service.py       # çŸ¥è¯†åº“æœåŠ¡
â”‚   â”‚   â””â”€â”€ session_manager.py  # ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ api/                    # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ query.py            # æ™ºèƒ½é—®ç­”æ¥å£ï¼ˆSSEæµå¼ï¼‰
â”‚   â”‚   â””â”€â”€ upload.py           # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ settings.py
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ main.py                 # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ frontend/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ App.jsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”œâ”€â”€ knowledge_base/             # çŸ¥è¯†åº“å­˜å‚¨
â”‚   â”œâ”€â”€ README.md               # ç»“æ„æ€»è§ˆ
â”‚   â””â”€â”€ FAQ.md                  # FAQåˆ—è¡¨
â”œâ”€â”€ docker/                     # Dockeré…ç½®
â”œâ”€â”€ docs/                       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ scripts/                    # éƒ¨ç½²è„šæœ¬
â””â”€â”€ README.md
```

## ğŸ“š æ–‡æ¡£

- [è¯¦ç»†å¼€å‘è®¡åˆ’](æ™ºèƒ½èµ„æ–™åº“ç®¡ç†å‘˜-è¯¦ç»†å¼€å‘è®¡åˆ’.md)
- [äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)](æ™ºèƒ½èµ„æ–™åº“ç®¡ç†å‘˜-PRD.md)
- [æŠ€æœ¯æ–¹æ¡ˆ](æ™ºèƒ½èµ„æ–™åº“ç®¡ç†å‘˜-æŠ€æœ¯æ–¹æ¡ˆ-Agentè‡ªä¸»ç‰ˆ.md)
- [å¼€å‘è®°å½•](æ™ºèƒ½èµ„æ–™åº“ç®¡ç†å‘˜-å¼€å‘è®°å½•.md)

## ğŸ”§ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®é¡¹åœ¨ `.env` æ–‡ä»¶ä¸­ï¼š

| é…ç½®é¡¹ | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| CLAUDE_API_KEY | Claude APIå¯†é’¥ | å¿…å¡« |
| KB_ROOT_PATH | çŸ¥è¯†åº“æ ¹ç›®å½•è·¯å¾„ | ./knowledge_base |
| SMALL_FILE_KB_THRESHOLD | å°æ–‡ä»¶é˜ˆå€¼(KB) | 30 |
| FAQ_MAX_ENTRIES | FAQæœ€å¤§æ¡ç›®æ•° | 50 |
| SESSION_TIMEOUT | ä¼šè¯è¶…æ—¶æ—¶é—´(ç§’) | 1800 |
| MAX_UPLOAD_SIZE | æœ€å¤§ä¸Šä¼ æ–‡ä»¶å¤§å°(å­—èŠ‚) | 10485760 |

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### 1. æ–‡æ¡£å…¥åº“

- é€šè¿‡Webç•Œé¢ä¸Šä¼ æ–‡æ¡£ï¼ˆæ”¯æŒPDFã€Wordã€TXTã€Markdownç­‰æ ¼å¼ï¼‰
- ç³»ç»Ÿè‡ªåŠ¨è½¬æ¢ä¸ºMarkdownæ ¼å¼
- æ™ºèƒ½æ£€æµ‹è¯­ä¹‰å†²çª
- è‡ªåŠ¨å½’ç½®åˆ°åˆé€‚çš„ç›®å½•

### 2. æ™ºèƒ½é—®ç­”

- åœ¨èŠå¤©ç•Œé¢è¾“å…¥é—®é¢˜
- ç³»ç»Ÿé€šè¿‡7é˜¶æ®µæ£€ç´¢æµç¨‹æŸ¥æ‰¾ç­”æ¡ˆ
- ç­”æ¡ˆé™„å¸¦å¯æº¯æºçš„å¼•ç”¨æ¥æº
- å¯¹æ»¡æ„çš„å›ç­”å¯æ·»åŠ åˆ°FAQ

### 3. FAQç®¡ç†

- ç‚¹å‡»"æ·»åŠ åˆ°FAQ"ä¿å­˜å¸¸è§é—®ç­”
- FAQä¼šè‡ªåŠ¨ç®¡ç†ä½¿ç”¨æ¬¡æ•°
- è¶…è¿‡ä¸Šé™æ—¶è‡ªåŠ¨æ¸…ç†ä½é¢‘æ¡ç›®

## ğŸ§ª å¼€å‘çŠ¶æ€

### Phase 1: é¡¹ç›®åˆå§‹åŒ– âœ… å·²å®Œæˆ
- [x] é¡¹ç›®ç»“æ„åˆ›å»º
- [x] åç«¯é…ç½®æ–‡ä»¶
- [x] å‰ç«¯åŸºç¡€é…ç½®
- [x] çŸ¥è¯†åº“åˆå§‹åŒ–
- [x] ç¯å¢ƒå˜é‡æ¨¡æ¿

### Phase 2: Agent å®šä¹‰ä¸å®ç° âœ… å·²å®Œæˆ
- [x] ç»Ÿä¸€æ™ºèƒ½ä½“å®ç°ï¼ˆæ•´åˆçŸ¥è¯†é—®ç­”ã€æ–‡æ¡£ç®¡ç†ã€çŸ¥è¯†åº“ç»´æŠ¤ï¼‰
- [x] 7é˜¶æ®µæ£€ç´¢ç­–ç•¥å®ç°
- [x] 5é˜¶æ®µæ–‡æ¡£å…¥åº“æµç¨‹å®ç°
- [x] æƒé™ç®¡ç†ç³»ç»Ÿ
- [x] ä¼šè¯ç®¡ç†å™¨

### æ¶æ„ä¼˜åŒ– âœ… å·²å®Œæˆ
- [x] é‡æ„ä¸ºå•ä¸€Agentæ¶æ„ï¼ˆæ¶ˆé™¤å­Agentè°ƒç”¨å¼€é”€ï¼‰
- [x] ç®€åŒ–ä»£ç ç»“æ„ï¼ˆä»3ä¸ªAgentåˆå¹¶ä¸º1ä¸ªï¼‰
- [x] æ€§èƒ½æå‡ 20-30%

### Phase 3: åç«¯ API è·¯ç”± âœ… å·²å®Œæˆ
- [x] æ™ºèƒ½é—®ç­”æ¥å£ï¼ˆ/api/queryï¼‰
- [x] SSE æµå¼å“åº”ï¼ˆ/api/query/streamï¼‰
- [x] æ–‡ä»¶ä¸Šä¼ æ¥å£ï¼ˆ/api/uploadï¼‰
- [x] ä¼šè¯ç®¡ç†æ¥å£
- [x] FastAPI ä¸»åº”ç”¨é…ç½®

### Phase 4: å‰ç«¯å®ç° âœ… å·²å®Œæˆ
- [x] ChatView ä¸»ç•Œé¢ç»„ä»¶
- [x] Message æ¶ˆæ¯ç»„ä»¶
- [x] FileUpload æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- [x] SSE æµå¼å“åº”é›†æˆ
- [x] Markdown æ¸²æŸ“
- [x] å“åº”å¼è®¾è®¡

### å¾…å®æ–½åŠŸèƒ½
- [ ] é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•
- [ ] Docker å®¹å™¨åŒ–éƒ¨ç½²
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œç›‘æ§
- [ ] å¤šæ¸ é“æ¥å…¥ï¼ˆä¼ä¸šå¾®ä¿¡ç­‰ï¼‰

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ‘¥ ä½œè€…

- å¼€å‘è€…: [Your Name]
- é¡¹ç›®æ—¶é—´: 2025å¹´10æœˆ

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ [Issue](https://github.com/yourusername/intelligent-kb-admin/issues)

---

**æ³¨æ„**: æœ¬é¡¹ç›®åŸºäº Claude Agent SDK å¼€å‘ï¼Œéœ€è¦æœ‰æ•ˆçš„ Claude API Key æ‰èƒ½è¿è¡Œã€‚
